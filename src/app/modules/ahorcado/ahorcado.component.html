<div class="board">

  <div class="ahorcado">

    <div *ngIf="!playing" class="loby">
      <h3>Juega con Tito el Coder, sálvalo adivinando la palabra.</h3>
      <span>
        *Busca una palabra en inglés relacionada al mundo del software*
      </span>
      <div>
        <button (click)="play()">Comenzar</button>
      </div>
    </div>


    <div *ngIf="playing" class="ahorcado-imagen">
      <svg #man viewBox="0 -35 72 160" fill="none" xmlns="http://www.w3.org/2000/svg">
        <circle cx="36.6084" cy="20" r="19" stroke="white" stroke-width="2" />
        <line x1="37" y1="40" x2="37" y2="92" stroke="white" stroke-width="2" />
        <line [@armR]="armR" x1="36.0429" y1="57.1753" x2="71.0429" y2="33.1753" stroke="white" stroke-width="2" />
        <path [@armR]="legR" d="M36.6514 91.4804L67.2168 122.046M36.6514 91.4804L67.2168 122.046" stroke="white"
          stroke-width="2" />
        <path [@armR]="legL" d="M36.6514 91.4804L6.08762 122.042M36.6514 91.4804L6.08762 122.042" stroke="white"
          stroke-width="2" />
        <line [@armR]="armL" x1="36.0202" y1="55.8087" x2="3.02023" y2="31.8087" stroke="white" stroke-width="2" />
        <g id="ohnoo" *ngIf="animation" transform="translate(0,-35)">
          <path
            d="M35.5 27H8.83822C8.28039 27 7.71841 26.9588 7.17284 26.8425C1 25.5262 1 22.181 1 21.8788C1 21.62 1 14.6167 1 9.50182C1 7.56328 1.63603 5.67996 2.81051 4.13772L3.0282 3.85186C3.6683 3.01133 4.4847 2.32117 5.42003 1.82988V1.82988C6.45779 1.2848 7.61245 1 8.78466 1H32.8292C35.1991 1 37.4919 1.84165 39.299 3.37491L40.5507 4.43697C42.1435 5.78842 43.2731 7.60472 43.7809 9.63092L43.9149 10.1654C44.2995 11.6999 44.3145 13.3037 43.9588 14.8452L43 19"
            stroke="white" />
          <path d="M43 19L42.1977 22L44.0001 31L35.9999 27L32.9995 27" stroke="white" />
          <path
            d="M7.99609 13.9922H8.98047L9.05664 20.1094H7.91992L7.99609 13.9922ZM9.09766 12.1641C9.09766 12.3398 9.04297 12.4883 8.93359 12.6094C8.82812 12.7305 8.66992 12.791 8.45898 12.791C8.24805 12.791 8.08789 12.7305 7.97852 12.6094C7.86914 12.4883 7.81445 12.3398 7.81445 12.1641C7.81445 11.9883 7.86914 11.8418 7.97852 11.7246C8.08789 11.6074 8.24805 11.5488 8.45898 11.5488C8.66992 11.5488 8.82812 11.6074 8.93359 11.7246C9.04297 11.8418 9.09766 11.9883 9.09766 12.1641ZM17.4766 18H16.3457L12.0508 11.4258V18H10.9199V9.46875H12.0508L16.3574 16.0723V9.46875H17.4766V18ZM19.0176 14.7715C19.0176 14.1504 19.1387 13.5918 19.3809 13.0957C19.627 12.5996 19.9668 12.2168 20.4004 11.9473C20.8379 11.6777 21.3359 11.543 21.8945 11.543C22.7578 11.543 23.4551 11.8418 23.9863 12.4395C24.5215 13.0371 24.7891 13.832 24.7891 14.8242V14.9004C24.7891 15.5176 24.6699 16.0723 24.4316 16.5645C24.1973 17.0527 23.8594 17.4336 23.418 17.707C22.9805 17.9805 22.4766 18.1172 21.9062 18.1172C21.0469 18.1172 20.3496 17.8184 19.8145 17.2207C19.2832 16.623 19.0176 15.832 19.0176 14.8477V14.7715ZM20.1074 14.9004C20.1074 15.6035 20.2695 16.168 20.5938 16.5938C20.9219 17.0195 21.3594 17.2324 21.9062 17.2324C22.457 17.2324 22.8945 17.0176 23.2188 16.5879C23.543 16.1543 23.7051 15.5488 23.7051 14.7715C23.7051 14.0762 23.5391 13.5137 23.207 13.084C22.8789 12.6504 22.4414 12.4336 21.8945 12.4336C21.3594 12.4336 20.9277 12.6465 20.5996 13.0723C20.2715 13.498 20.1074 14.1074 20.1074 14.9004ZM25.8613 14.7715C25.8613 14.1504 25.9824 13.5918 26.2246 13.0957C26.4707 12.5996 26.8105 12.2168 27.2441 11.9473C27.6816 11.6777 28.1797 11.543 28.7383 11.543C29.6016 11.543 30.2988 11.8418 30.8301 12.4395C31.3652 13.0371 31.6328 13.832 31.6328 14.8242V14.9004C31.6328 15.5176 31.5137 16.0723 31.2754 16.5645C31.041 17.0527 30.7031 17.4336 30.2617 17.707C29.8242 17.9805 29.3203 18.1172 28.75 18.1172C27.8906 18.1172 27.1934 17.8184 26.6582 17.2207C26.127 16.623 25.8613 15.832 25.8613 14.8477V14.7715ZM26.9512 14.9004C26.9512 15.6035 27.1133 16.168 27.4375 16.5938C27.7656 17.0195 28.2031 17.2324 28.75 17.2324C29.3008 17.2324 29.7383 17.0176 30.0625 16.5879C30.3867 16.1543 30.5488 15.5488 30.5488 14.7715C30.5488 14.0762 30.3828 13.5137 30.0508 13.084C29.7227 12.6504 29.2852 12.4336 28.7383 12.4336C28.2031 12.4336 27.7715 12.6465 27.4434 13.0723C27.1152 13.498 26.9512 14.1074 26.9512 14.9004ZM34.2051 15.5918H33.2266L33.1504 9.46875H34.2871L34.2051 15.5918ZM33.1094 17.4551C33.1094 17.2793 33.1621 17.1328 33.2676 17.0156C33.377 16.8945 33.5371 16.834 33.748 16.834C33.959 16.834 34.1191 16.8945 34.2285 17.0156C34.3379 17.1328 34.3926 17.2793 34.3926 17.4551C34.3926 17.6309 34.3379 17.7773 34.2285 17.8945C34.1191 18.0078 33.959 18.0645 33.748 18.0645C33.5371 18.0645 33.377 18.0078 33.2676 17.8945C33.1621 17.7773 33.1094 17.6309 33.1094 17.4551Z"
            fill="white" />
        </g>
        <g id="pain" *ngIf="animation" transform="translate(21,5)">
          <path
            d="M21 21C21 26.7779 17.4177 31 13.5 31C9.58234 31 6 26.7779 6 21C6 15.2221 9.58234 11 13.5 11C17.4177 11 21 15.2221 21 21Z"
            stroke="white" stroke-width="2" />
          <circle cx="20.5" cy="7.5" r="2.5" stroke="white" stroke-width="2" />
          <circle cx="6.5" cy="7.5" r="2.5" stroke="white" stroke-width="2" />
          <line x1="1.21913" y1="6.3753" x2="5.21913" y2="1.3753" stroke="white" stroke-width="2" />
          <line x1="21.6757" y1="2.2628" x2="26.396" y2="6.58925" stroke="white" stroke-width="2" />
        </g>
        <g id="smile" *ngIf="(!animation && missesLeft > 3) || win">
          <mask id="path-7-inside-1" fill="white">
            <path
              d="M47.6232 22.4759C47.7944 24.8737 46.9545 27.254 45.2729 29.1372C43.5912 31.0203 41.1929 32.2661 38.5613 32.6234C35.9297 32.9808 33.2606 32.4232 31.0919 31.063C28.9233 29.7027 27.4164 27.641 26.8751 25.2935L27.9025 25.0865C28.3897 27.1993 29.7459 29.0548 31.6977 30.279C33.6495 31.5032 36.0517 32.0051 38.4202 31.6835C40.7886 31.3618 42.9471 30.2406 44.4606 28.5458C45.9741 26.851 46.7299 24.7087 46.5759 22.5507L47.6232 22.4759Z" />
          </mask>
          <path
            d="M47.6232 22.4759C47.7944 24.8737 46.9545 27.254 45.2729 29.1372C43.5912 31.0203 41.1929 32.2661 38.5613 32.6234C35.9297 32.9808 33.2606 32.4232 31.0919 31.063C28.9233 29.7027 27.4164 27.641 26.8751 25.2935L27.9025 25.0865C28.3897 27.1993 29.7459 29.0548 31.6977 30.279C33.6495 31.5032 36.0517 32.0051 38.4202 31.6835C40.7886 31.3618 42.9471 30.2406 44.4606 28.5458C45.9741 26.851 46.7299 24.7087 46.5759 22.5507L47.6232 22.4759Z"
            stroke="white" stroke-width="4" mask="url(#path-7-inside-1)" />
          <circle cx="42.5" cy="12.5" r="2.5" stroke="white" stroke-width="2" />
          <circle cx="29.1084" cy="12.5" r="2.5" stroke="white" stroke-width="2" />
          <line x1="24.4101" y1="9.96982" x2="29.5804" y2="6.19251" stroke="white" stroke-width="2" />
          <line x1="41.8271" y1="6.09982" x2="47.5911" y2="8.88845" stroke="white" stroke-width="2" />
          <line x1="36.4891" y1="16.237" x2="34.9713" y2="22.4577" stroke="white" stroke-width="2" />
          <line x1="38" y1="23" x2="34" y2="23" stroke="white" stroke-width="2" />
        </g>
        <g id="fiu" *ngIf="win" transform="translate(0,-35)">
          <path
            d="M35.5 27H8.83822C8.28039 27 7.71841 26.9588 7.17284 26.8425C1 25.5262 1 22.181 1 21.8788C1 21.62 1 14.6167 1 9.50182C1 7.56328 1.63603 5.67996 2.81051 4.13772L3.0282 3.85186C3.6683 3.01133 4.4847 2.32117 5.42003 1.82988V1.82988C6.45779 1.2848 7.61245 1 8.78466 1H32.8292C35.1991 1 37.4919 1.84165 39.299 3.37491L40.5507 4.43697C42.1435 5.78842 43.2731 7.60472 43.7809 9.63092L43.9149 10.1654C44.2995 11.6999 44.3145 13.3037 43.9588 14.8452L43 19"
            stroke="white" />
          <path d="M43 19L42.1977 22L44.0001 31L35.9999 27L32.9995 27" stroke="white" />
          <path transform="translate(8,10)"
            d="M0.996094 4.99219H1.98047L2.05664 11.1094H0.919922L0.996094 4.99219ZM2.09766 3.16406C2.09766 3.33984 2.04297 3.48828 1.93359 3.60938C1.82812 3.73047 1.66992 3.79102 1.45898 3.79102C1.24805 3.79102 1.08789 3.73047 0.978516 3.60938C0.869141 3.48828 0.814453 3.33984 0.814453 3.16406C0.814453 2.98828 0.869141 2.8418 0.978516 2.72461C1.08789 2.60742 1.24805 2.54883 1.45898 2.54883C1.66992 2.54883 1.82812 2.60742 1.93359 2.72461C2.04297 2.8418 2.09766 2.98828 2.09766 3.16406ZM8.625 5.23242H5.04492V9H3.91992V0.46875H9.20508V1.39453H5.04492V4.3125H8.625V5.23242ZM11.5605 9H10.4766V2.66016H11.5605V9ZM10.3887 0.978516C10.3887 0.802734 10.4414 0.654297 10.5469 0.533203C10.6562 0.412109 10.8164 0.351562 11.0273 0.351562C11.2383 0.351562 11.3984 0.412109 11.5078 0.533203C11.6172 0.654297 11.6719 0.802734 11.6719 0.978516C11.6719 1.1543 11.6172 1.30078 11.5078 1.41797C11.3984 1.53516 11.2383 1.59375 11.0273 1.59375C10.8164 1.59375 10.6562 1.53516 10.5469 1.41797C10.4414 1.30078 10.3887 1.1543 10.3887 0.978516ZM17.2148 8.37305C16.793 8.86914 16.1738 9.11719 15.3574 9.11719C14.6816 9.11719 14.166 8.92188 13.8105 8.53125C13.459 8.13672 13.2812 7.55469 13.2773 6.78516V2.66016H14.3613V6.75586C14.3613 7.7168 14.752 8.19727 15.5332 8.19727C16.3613 8.19727 16.9121 7.88867 17.1855 7.27148V2.66016H18.2695V9H17.2383L17.2148 8.37305ZM23.8359 8.37305C23.4141 8.86914 22.7949 9.11719 21.9785 9.11719C21.3027 9.11719 20.7871 8.92188 20.4316 8.53125C20.0801 8.13672 19.9023 7.55469 19.8984 6.78516V2.66016H20.9824V6.75586C20.9824 7.7168 21.373 8.19727 22.1543 8.19727C22.9824 8.19727 23.5332 7.88867 23.8066 7.27148V2.66016H24.8906V9H23.8594L23.8359 8.37305ZM27.7559 6.5918H26.7773L26.7012 0.46875H27.8379L27.7559 6.5918ZM26.6602 8.45508C26.6602 8.2793 26.7129 8.13281 26.8184 8.01562C26.9277 7.89453 27.0879 7.83398 27.2988 7.83398C27.5098 7.83398 27.6699 7.89453 27.7793 8.01562C27.8887 8.13281 27.9434 8.2793 27.9434 8.45508C27.9434 8.63086 27.8887 8.77734 27.7793 8.89453C27.6699 9.00781 27.5098 9.06445 27.2988 9.06445C27.0879 9.06445 26.9277 9.00781 26.8184 8.89453C26.7129 8.77734 26.6602 8.63086 26.6602 8.45508Z"
            fill="white" />
        </g>

        <g id="worry" *ngIf="!animation && !win && missesLeft <= 3 && missesLeft > 0">
          <line x1="33.4891" y1="11.237" x2="31.9713" y2="17.4577" stroke="white" stroke-width="2" />
          <line x1="35" y1="18" x2="31" y2="18" stroke="white" stroke-width="2" />
          <line x1="50.0905" y1="23.9959" x2="29.09054" y2="24.9959" stroke="white" stroke-width="2" />
          <circle cx="39.5" cy="10.5" r="2.5" stroke="white" stroke-width="2" />
          <circle cx="26.1084" cy="10.5" r="2.5" stroke="white" stroke-width="2" />
        </g>
        <g id="dead" *ngIf="!animation && missesLeft === 0">
          <line x1="36" y1="16" x2="34" y2="22" stroke="white" stroke-width="2" />
          <line x1="38" y1="22" x2="34" y2="22" stroke="white" stroke-width="2" />
          <line x1="41" y1="30" x2="33" y2="30" stroke="white" stroke-width="2" />
          <line x1="42" y1="14" x2="48" y2="14" stroke="white" stroke-width="2" />
          <line x1="45" y1="11" x2="45" y2="17" stroke="white" stroke-width="2" />
          <line x1="24" y1="14" x2="30" y2="14" stroke="white" stroke-width="2" />
          <line x1="27" y1="11" x2="27" y2="17" stroke="white" stroke-width="2" />
        </g>
      </svg>
    </div>

    <div class="count row">
      <app-timer #countDown *ngIf="playing" [counter]="counter" (gameOver)="gameOver()"></app-timer>
      <app-score *ngIf="playing" [game]="gamename"></app-score>
    </div>


    <div *ngIf="playing" class="game">

      <div class="message">
        <div *ngIf="!error && !win" [ngSwitch]="missesLeft">
          <div *ngSwitchCase="5">
            <h2>¡Salva a Tito el Coder!</h2>
          </div>
          <div *ngSwitchCase="4">
            <h2>¡Salva a Tito el Coder!</h2>
          </div>
          <div *ngSwitchCase="3">
            <h2>¡No tiene piernas!</h2>
          </div>
          <div *ngSwitchCase="2">
            <h2>¡Concéntrate!</h2>
          </div>
          <div *ngSwitchCase="1">
            <h2>Tito ya no podrá codear... ¡Perdió los codos!</h2>
          </div>
          <div *ngSwitchCase="0">
            <h2>¡Noooooo Tito!</h2>
            <span>
              *El juego terminó, tu palabra es:*
            </span>
          </div>
          <div *ngIf=" missesLeft === 5">
            <span>
              *La palabra tiene {{secretWord.length}} letras*
            </span>
          </div>
          <div *ngIf="missesLeft != 0">
            <span>
              *Tienes {{missesLeft}} oportunidades restantes.*
            </span>
          </div>
        </div>
        <span class="error" *ngIf="error">{{error}}</span>
        <span *ngIf="error && missesLeft === 0">*Oprime el botón para jugar de nuevo*</span>
        <h2 *ngIf="win">¡Ganaste, Salvaste a Tito!</h2>
      </div>

      <div class="secret-word">
        <div *ngFor="let char of secretWord">
          <div class="secret-word-letter-chosed" *ngIf="char.chosen">
            <p [class.succes]="win" [class.error]="missesLeft===0">{{char.name}}</p>
          </div>
          <div class="secret-word-letter" *ngIf="!char.chosen">
            <p>_</p>
          </div>
        </div>
      </div>

      <div class="letters">
        <div *ngFor="let char of letters" class="letters-letter" [class.chosed]="char.chosen" (click)="try(char)">
          <p>{{char.name}}</p>
        </div>
      </div>

      <div class="play-again-button">
        <mat-icon *ngIf="win || lost" (click)="play()" aria-hidden="false" aria-label="restart_alt icon">restart_alt
        </mat-icon>
        <mat-icon (click)="cancel();" aria-hidden="false" aria-label="restart_alt icon">cancel</mat-icon>
      </div>

    </div>

  </div>

</div>
